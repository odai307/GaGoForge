{
  "problem_id": "react-forms-001",
  "title": "Create a Contact Form with Real-time Validation",
  "slug": "create-contact-form-with-real-time-validation",
  "framework": "react",
  "category": "forms",
  "difficulty": "beginner",
  "description": "Build a contact form with real-time validation that collects user information and provides immediate feedback on input errors.\n\n**Requirements:**\n1. Create a `ContactForm` component with fields:\n   - Name (text input, required, min 2 characters)\n   - Email (email input, required, valid email format)\n   - Message (textarea, required, min 10 characters)\n   - Subject (select dropdown with options: 'General', 'Support', 'Feedback', 'Other')\n   - Subscribe checkbox (optional newsletter subscription)\n2. Implement real-time validation with error messages\n3. Display form submission status (success/error)\n4. Reset form after successful submission\n\n**Validation Rules:**\n- Name: Required, minimum 2 characters\n- Email: Required, must contain '@' and '.'\n- Message: Required, minimum 10 characters\n- Subject: Required, must be selected\n- Subscribe: Optional checkbox\n\n**Form Behavior:**\n- Show error messages below each field as user types\n- Disable submit button if form has errors\n- Show loading state during submission\n- Display success message after submission\n- Reset form to initial state after successful submission\n- Handle submission errors gracefully\n\n**UI Requirements:**\n- Clean, accessible form layout\n- Error messages in red below fields\n- Required fields marked with asterisk (*)\n- Submit button disabled when invalid\n- Loading indicator during submission\n- Success/error notifications\n\n**Example Form Structure:**\n```jsx\n<ContactForm onSubmit={(data) => console.log(data)} />\n```",
  "description_preview": "Build a contact form with real-time validation, error handling, and submission feedback",
  "context_code": "// Validation helper functions (for reference)\nfunction validateEmail(email) {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\nfunction validateMinLength(value, min) {\n  return value.trim().length >= min;\n}\n\n// Subject options (for reference)\nconst SUBJECT_OPTIONS = [\n  { value: '', label: 'Select a subject' },\n  { value: 'general', label: 'General Inquiry' },\n  { value: 'support', label: 'Technical Support' },\n  { value: 'feedback', label: 'Feedback' },\n  { value: 'other', label: 'Other' }\n];",
  "starter_code": "",
  "target_area": "ContactForm component with form state, validation, and submission handling",
  "validation_spec": {
    "required_imports": ["react", "react.useState"],
    "required_structure": {
      "functions": [{
        "name": "ContactForm",
        "type": "functional_component",
        "has_export": true,
        "has_prop_types": false
      }]
    },
    "behavior_patterns": [
      {"type": "form_handling", "form_type": "controlled"},
      {"type": "event_handler", "event_type": "onChange", "min_calls": 4},
      {"type": "event_handler", "event_type": "onSubmit"},
      "input validation logic",
      "conditional rendering of error messages",
      "form state management with useState"
    ]
  },
  "import_weight": 10.00,
  "structure_weight": 40.00,
  "behavior_weight": 50.00,
  "passing_score": 80.00,
  "hints": [
    "Use useState to manage form fields and errors as separate state variables",
    "Create validation functions for each field that return error messages",
    "Validate on every change (onChange) and on blur (onBlur) for better UX",
    "Disable the submit button when there are any validation errors",
    "Reset the form by setting all state variables to their initial values"
  ],
  "learning_resources": [
    "https://react.dev/reference/react-dom/components/input",
    "https://react.dev/learn/reacting-to-input-with-state"
  ],
  "tags": ["react", "forms", "validation", "controlled-components", "beginner"],
  "estimated_time_minutes": 30,
  "patterns": [
    {
      "pattern_id": "react-forms-001-pattern-1",
      "name": "Contact Form with Real-time Validation",
      "description": "Complete contact form implementation with real-time validation, error handling, and submission feedback",
      "example_code": "import React, { useState } from 'react';\n\nconst SUBJECT_OPTIONS = [\n  { value: '', label: 'Select a subject', disabled: true },\n  { value: 'general', label: 'General Inquiry' },\n  { value: 'support', label: 'Technical Support' },\n  { value: 'feedback', label: 'Feedback' },\n  { value: 'other', label: 'Other' }\n];\n\nfunction validateEmail(email) {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return re.test(email);\n}\n\nfunction validateMinLength(value, min) {\n  return value.trim().length >= min;\n}\n\nexport default function ContactForm() {\n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    subject: '',\n    message: '',\n    subscribe: false\n  });\n  \n  // Validation errors\n  const [errors, setErrors] = useState({\n    name: '',\n    email: '',\n    subject: '',\n    message: ''\n  });\n  \n  // Form status\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState(null); // null, 'success', 'error'\n  \n  // Handle input changes\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    \n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n    \n    // Validate on change\n    validateField(name, type === 'checkbox' ? checked : value);\n  };\n  \n  // Validate individual field\n  const validateField = (name, value) => {\n    let error = '';\n    \n    switch (name) {\n      case 'name':\n        if (!value.trim()) {\n          error = 'Name is required';\n        } else if (value.trim().length < 2) {\n          error = 'Name must be at least 2 characters';\n        }\n        break;\n      case 'email':\n        if (!value.trim()) {\n          error = 'Email is required';\n        } else if (!validateEmail(value)) {\n          error = 'Please enter a valid email address';\n        }\n        break;\n      case 'subject':\n        if (!value) {\n          error = 'Please select a subject';\n        }\n        break;\n      case 'message':\n        if (!value.trim()) {\n          error = 'Message is required';\n        } else if (value.trim().length < 10) {\n          error = 'Message must be at least 10 characters';\n        }\n        break;\n      default:\n        break;\n    }\n    \n    setErrors(prev => ({\n      ...prev,\n      [name]: error\n    }));\n  };\n  \n  // Validate entire form\n  const validateForm = () => {\n    const newErrors = {};\n    \n    // Validate each field\n    validateField('name', formData.name);\n    validateField('email', formData.email);\n    validateField('subject', formData.subject);\n    validateField('message', formData.message);\n    \n    // Check if any errors exist\n    return !Object.values(errors).some(error => error !== '');\n  };\n  \n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    if (!validateForm()) {\n      setSubmitStatus('error');\n      return;\n    }\n    \n    setIsSubmitting(true);\n    setSubmitStatus(null);\n    \n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      console.log('Form submitted:', formData);\n      \n      // Reset form\n      setFormData({\n        name: '',\n        email: '',\n        subject: '',\n        message: '',\n        subscribe: false\n      });\n      \n      setErrors({\n        name: '',\n        email: '',\n        subject: '',\n        message: ''\n      });\n      \n      setSubmitStatus('success');\n    } catch (error) {\n      console.error('Submission error:', error);\n      setSubmitStatus('error');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  // Check if form is valid\n  const isFormValid = () => {\n    return (\n      formData.name.trim().length >= 2 &&\n      validateEmail(formData.email) &&\n      formData.subject &&\n      formData.message.trim().length >= 10\n    );\n  };\n  \n  return (\n    <div style={{ maxWidth: '600px', margin: '0 auto' }}>\n      <h1>Contact Us</h1>\n      \n      {/* Status Messages */}\n      {submitStatus === 'success' && (\n        <div style={{\n          padding: '15px',\n          backgroundColor: '#d4edda',\n          color: '#155724',\n          border: '1px solid #c3e6cb',\n          borderRadius: '5px',\n          marginBottom: '20px'\n        }}>\n          Thank you for your message! We'll get back to you soon.\n        </div>\n      )}\n      \n      {submitStatus === 'error' && (\n        <div style={{\n          padding: '15px',\n          backgroundColor: '#f8d7da',\n          color: '#721c24',\n          border: '1px solid #f5c6cb',\n          borderRadius: '5px',\n          marginBottom: '20px'\n        }}>\n          Please fix the errors below and try again.\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        {/* Name Field */}\n        <div style={{ marginBottom: '20px' }}>\n          <label htmlFor=\"name\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Name <span style={{ color: 'red' }}>*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            onBlur={(e) => validateField('name', e.target.value)}\n            placeholder=\"Enter your name\"\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: `1px solid ${errors.name ? '#dc3545' : '#ddd'}`,\n              borderRadius: '5px',\n              fontSize: '16px'\n            }}\n          />\n          {errors.name && (\n            <div style={{ color: '#dc3545', fontSize: '14px', marginTop: '5px' }}>\n              {errors.name}\n            </div>\n          )}\n        </div>\n        \n        {/* Email Field */}\n        <div style={{ marginBottom: '20px' }}>\n          <label htmlFor=\"email\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Email <span style={{ color: 'red' }}>*</span>\n          </label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            onBlur={(e) => validateField('email', e.target.value)}\n            placeholder=\"Enter your email\"\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: `1px solid ${errors.email ? '#dc3545' : '#ddd'}`,\n              borderRadius: '5px',\n              fontSize: '16px'\n            }}\n          />\n          {errors.email && (\n            <div style={{ color: '#dc3545', fontSize: '14px', marginTop: '5px' }}>\n              {errors.email}\n            </div>\n          )}\n        </div>\n        \n        {/* Subject Field */}\n        <div style={{ marginBottom: '20px' }}>\n          <label htmlFor=\"subject\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Subject <span style={{ color: 'red' }}>*</span>\n          </label>\n          <select\n            id=\"subject\"\n            name=\"subject\"\n            value={formData.subject}\n            onChange={handleChange}\n            onBlur={(e) => validateField('subject', e.target.value)}\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: `1px solid ${errors.subject ? '#dc3545' : '#ddd'}`,\n              borderRadius: '5px',\n              fontSize: '16px',\n              backgroundColor: 'white'\n            }}\n          >\n            {SUBJECT_OPTIONS.map(option => (\n              <option \n                key={option.value} \n                value={option.value}\n                disabled={option.disabled}\n              >\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {errors.subject && (\n            <div style={{ color: '#dc3545', fontSize: '14px', marginTop: '5px' }}>\n              {errors.subject}\n            </div>\n          )}\n        </div>\n        \n        {/* Message Field */}\n        <div style={{ marginBottom: '20px' }}>\n          <label htmlFor=\"message\" style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Message <span style={{ color: 'red' }}>*</span>\n          </label>\n          <textarea\n            id=\"message\"\n            name=\"message\"\n            value={formData.message}\n            onChange={handleChange}\n            onBlur={(e) => validateField('message', e.target.value)}\n            placeholder=\"Enter your message (minimum 10 characters)\"\n            rows={5}\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: `1px solid ${errors.message ? '#dc3545' : '#ddd'}`,\n              borderRadius: '5px',\n              fontSize: '16px',\n              resize: 'vertical'\n            }}\n          />\n          <div style={{ fontSize: '14px', color: '#666', marginTop: '5px' }}>\n            {formData.message.length} characters\n          </div>\n          {errors.message && (\n            <div style={{ color: '#dc3545', fontSize: '14px', marginTop: '5px' }}>\n              {errors.message}\n            </div>\n          )}\n        </div>\n        \n        {/* Subscribe Checkbox */}\n        <div style={{ marginBottom: '30px' }}>\n          <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n            <input\n              type=\"checkbox\"\n              name=\"subscribe\"\n              checked={formData.subscribe}\n              onChange={handleChange}\n              style={{ marginRight: '10px', width: '18px', height: '18px' }}\n            />\n            <span>Subscribe to our newsletter for updates</span>\n          </label>\n        </div>\n        \n        {/* Submit Button */}\n        <button\n          type=\"submit\"\n          disabled={!isFormValid() || isSubmitting}\n          style={{\n            width: '100%',\n            padding: '15px',\n            backgroundColor: isFormValid() && !isSubmitting ? '#007bff' : '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '5px',\n            fontSize: '18px',\n            fontWeight: '600',\n            cursor: isFormValid() && !isSubmitting ? 'pointer' : 'not-allowed',\n            transition: 'background-color 0.2s ease'\n          }}\n        >\n          {isSubmitting ? (\n            <span>Sending...</span>\n          ) : (\n            <span>Send Message</span>\n          )}\n        </button>\n      </form>\n      \n      <div style={{\n        marginTop: '20px',\n        padding: '15px',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '5px',\n        fontSize: '14px',\n        color: '#666'\n      }}>\n        <p style={{ margin: 0 }}>\n          Fields marked with <span style={{ color: 'red' }}>*</span> are required.\n        </p>\n      </div>\n    </div>\n  );\n}",
      "required_imports": ["react", "react.useState"],
      "required_structure": {
        "functions": [{
          "name": "ContactForm",
          "type": "functional_component",
          "has_export": true
        }]
      },
      "forbidden_patterns": ["uncontrolled inputs", "formik library", "react-hook-form"],
      "is_primary": true,
      "confidence_threshold": 85.00
    }
  ]
}