{
  "problem_id": "react-forms-003",
  "title": "Create a Dynamic Survey Form Builder",
  "slug": "create-dynamic-survey-form-builder",
  "framework": "react",
  "category": "forms",
  "difficulty": "beginner",
  "description": "Build a dynamic survey form that allows users to add/remove questions of different types and fill out the survey with real-time validation.\n\n**Requirements:**\n1. Create a `SurveyBuilder` component with two modes:\n   - **Builder Mode**: Add/remove/edit survey questions\n   - **Survey Mode**: Fill out the survey\n2. Support three question types:\n   - **Text**: Single-line text input\n   - **Textarea**: Multi-line text input\n   - **Multiple Choice**: Radio buttons with options\n3. Each question should have:\n   - Question text (required)\n   - Question type (required)\n   - Options (for multiple choice questions)\n   - Required flag (optional)\n4. Implement features:\n   - Add new questions of any type\n   - Remove questions\n   - Reorder questions (optional)\n   - Toggle between builder and survey modes\n   - Validate survey responses\n   - Display survey results\n\n**Question Structure:**\n```javascript\n{\n  id: 1,\n  text: 'What is your name?',\n  type: 'text', // 'text', 'textarea', 'multiple-choice'\n  required: true,\n  options: ['Option 1', 'Option 2'] // only for multiple-choice\n}\n```\n\n**Survey Features:**\n- Each question renders appropriate input type\n- Required questions must be filled before submission\n- Real-time validation\n- Show completion percentage\n- Display summary of responses\n\n**Builder Features:**\n- Add new questions with type selection\n- Edit question text and options\n- Delete questions\n- Toggle required flag\n- Preview survey\n\n**UI Requirements:**\n- Clear separation between builder and survey modes\n- Different styling for each question type\n- Visual feedback for required fields\n- Progress indicator for survey completion\n- Clean, modern interface\n- Responsive design\n\n**Example Usage:**\n```jsx\n<SurveyBuilder \n  initialQuestions={[\n    { id: 1, text: 'Name', type: 'text', required: true },\n    { id: 2, text: 'Feedback', type: 'textarea', required: false }\n  ]}\n/>\n```",
  "description_preview": "Build a dynamic survey form builder with question management, validation, and two-mode interface",
  "context_code": "// Question type configuration (for reference)\nconst QUESTION_TYPES = [\n  { value: 'text', label: 'Text Input', description: 'Single line text answer' },\n  { value: 'textarea', label: 'Text Area', description: 'Multi-line text answer' },\n  { value: 'multiple-choice', label: 'Multiple Choice', description: 'Select one option' }\n];\n\n// Initial sample questions (for reference)\nconst SAMPLE_QUESTIONS = [\n  {\n    id: 1,\n    text: 'What is your name?',\n    type: 'text',\n    required: true\n  },\n  {\n    id: 2,\n    text: 'How satisfied are you with our service?',\n    type: 'multiple-choice',\n    required: true,\n    options: ['Very Satisfied', 'Satisfied', 'Neutral', 'Dissatisfied', 'Very Dissatisfied']\n  }\n];",
  "starter_code": "",
  "target_area": "SurveyBuilder component with dynamic question management and two-mode interface",
  "validation_spec": {
    "required_imports": ["react", "react.useState"],
    "required_structure": {
      "functions": [{
        "name": "SurveyBuilder",
        "type": "functional_component",
        "has_export": true,
        "has_prop_types": false
      }]
    },
    "behavior_patterns": [
      {"type": "form_handling", "form_type": "controlled"},
      "dynamic array management (add/remove questions)",
      "conditional rendering based on question type",
      "two-mode interface (builder/survey)",
      "real-time validation and progress tracking",
      "array mapping for questions and options"
    ]
  },
  "import_weight": 10.00,
  "structure_weight": 40.00,
  "behavior_weight": 50.00,
  "passing_score": 85.00,
  "hints": [
    "Use two separate state variables: one for questions and one for responses",
    "Generate unique IDs for new questions using Date.now() or a counter",
    "Use conditional rendering to show different input types based on question type",
    "Calculate completion percentage by checking required questions with responses",
    "Store responses in an object keyed by question ID for easy lookup"
  ],
  "learning_resources": [
    "https://react.dev/learn/updating-arrays-in-state",
    "https://react.dev/learn/conditional-rendering"
  ],
  "tags": ["react", "forms", "dynamic", "survey", "builder", "beginner"],
  "estimated_time_minutes": 45,
  "patterns": [
    {
      "pattern_id": "react-forms-003-pattern-1",
      "name": "Dynamic Survey Form Builder",
      "description": "Complete survey builder with question management, two-mode interface, and real-time validation",
      "example_code": "import React, { useState } from 'react';\n\nconst QUESTION_TYPES = [\n  { value: 'text', label: 'Text Input', description: 'Single line text answer' },\n  { value: 'textarea', label: 'Text Area', description: 'Multi-line text answer' },\n  { value: 'multiple-choice', label: 'Multiple Choice', description: 'Select one option' }\n];\n\nconst SAMPLE_QUESTIONS = [\n  {\n    id: 1,\n    text: 'What is your name?',\n    type: 'text',\n    required: true\n  },\n  {\n    id: 2,\n    text: 'How satisfied are you with our service?',\n    type: 'multiple-choice',\n    required: true,\n    options: ['Very Satisfied', 'Satisfied', 'Neutral', 'Dissatisfied', 'Very Dissatisfied']\n  }\n];\n\nexport default function SurveyBuilder() {\n  // Mode: 'builder' or 'survey' or 'results'\n  const [mode, setMode] = useState('builder');\n  \n  // Questions array\n  const [questions, setQuestions] = useState(SAMPLE_QUESTIONS);\n  \n  // New question template\n  const [newQuestion, setNewQuestion] = useState({\n    text: '',\n    type: 'text',\n    required: false,\n    options: ['Option 1', 'Option 2']\n  });\n  \n  // Survey responses\n  const [responses, setResponses] = useState({});\n  \n  // Validation errors\n  const [errors, setErrors] = useState({});\n  \n  // Add a new question\n  const handleAddQuestion = () => {\n    if (!newQuestion.text.trim()) {\n      alert('Question text is required');\n      return;\n    }\n    \n    const questionToAdd = {\n      id: Date.now(),\n      text: newQuestion.text.trim(),\n      type: newQuestion.type,\n      required: newQuestion.required,\n      options: newQuestion.type === 'multiple-choice' ? [...newQuestion.options] : []\n    };\n    \n    setQuestions(prev => [...prev, questionToAdd]);\n    \n    // Reset new question form\n    setNewQuestion({\n      text: '',\n      type: 'text',\n      required: false,\n      options: ['Option 1', 'Option 2']\n    });\n  };\n  \n  // Remove a question\n  const handleRemoveQuestion = (id) => {\n    setQuestions(prev => prev.filter(q => q.id !== id));\n    \n    // Also remove any response for this question\n    setResponses(prev => {\n      const newResponses = { ...prev };\n      delete newResponses[id];\n      return newResponses;\n    });\n  };\n  \n  // Add option to multiple choice question\n  const handleAddOption = () => {\n    setNewQuestion(prev => ({\n      ...prev,\n      options: [...prev.options, `Option ${prev.options.length + 1}`]\n    }));\n  };\n  \n  // Update option text\n  const handleUpdateOption = (index, value) => {\n    setNewQuestion(prev => {\n      const newOptions = [...prev.options];\n      newOptions[index] = value;\n      return { ...prev, options: newOptions };\n    });\n  };\n  \n  // Remove option from multiple choice question\n  const handleRemoveOption = (index) => {\n    setNewQuestion(prev => {\n      const newOptions = prev.options.filter((_, i) => i !== index);\n      return { ...prev, options: newOptions };\n    });\n  };\n  \n  // Handle response changes\n  const handleResponseChange = (questionId, value) => {\n    setResponses(prev => ({\n      ...prev,\n      [questionId]: value\n    }));\n    \n    // Clear error for this question if response is provided\n    if (value && errors[questionId]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[questionId];\n        return newErrors;\n      });\n    }\n  };\n  \n  // Validate survey\n  const validateSurvey = () => {\n    const newErrors = {};\n    \n    questions.forEach(question => {\n      if (question.required && !responses[question.id]) {\n        newErrors[question.id] = 'This question is required';\n      }\n    });\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  \n  // Submit survey\n  const handleSubmitSurvey = () => {\n    if (validateSurvey()) {\n      setMode('results');\n      console.log('Survey responses:', responses);\n    }\n  };\n  \n  // Calculate completion percentage\n  const calculateCompletion = () => {\n    const requiredQuestions = questions.filter(q => q.required);\n    if (requiredQuestions.length === 0) return 100;\n    \n    const completed = requiredQuestions.filter(q => responses[q.id]).length;\n    return Math.round((completed / requiredQuestions.length) * 100);\n  };\n  \n  const completionPercentage = calculateCompletion();\n  \n  // Render Builder Mode\n  const renderBuilder = () => (\n    <div>\n      <h2>Survey Builder</h2>\n      <p>Create your survey questions below</p>\n      \n      {/* Add Question Form */}\n      <div style={{\n        padding: '20px',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        marginBottom: '30px'\n      }}>\n        <h3>Add New Question</h3>\n        \n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Question Text *\n          </label>\n          <input\n            type=\"text\"\n            value={newQuestion.text}\n            onChange={(e) => setNewQuestion(prev => ({ ...prev, text: e.target.value }))}\n            placeholder=\"Enter your question\"\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ddd',\n              borderRadius: '5px',\n              fontSize: '16px'\n            }}\n          />\n        </div>\n        \n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Question Type\n          </label>\n          <select\n            value={newQuestion.type}\n            onChange={(e) => setNewQuestion(prev => ({ ...prev, type: e.target.value }))}\n            style={{\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #ddd',\n              borderRadius: '5px',\n              fontSize: '16px'\n            }}\n          >\n            {QUESTION_TYPES.map(type => (\n              <option key={type.value} value={type.value}>\n                {type.label} - {type.description}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        {/* Options for multiple choice */}\n        {newQuestion.type === 'multiple-choice' && (\n          <div style={{ marginBottom: '15px' }}>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n              Options\n            </label>\n            {newQuestion.options.map((option, index) => (\n              <div key={index} style={{ display: 'flex', marginBottom: '8px' }}>\n                <input\n                  type=\"text\"\n                  value={option}\n                  onChange={(e) => handleUpdateOption(index, e.target.value)}\n                  placeholder={`Option ${index + 1}`}\n                  style={{\n                    flex: 1,\n                    padding: '8px',\n                    border: '1px solid #ddd',\n                    borderRadius: '5px',\n                    fontSize: '14px'\n                  }}\n                />\n                {newQuestion.options.length > 2 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveOption(index)}\n                    style={{\n                      marginLeft: '10px',\n                      padding: '8px 12px',\n                      backgroundColor: '#dc3545',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '5px',\n                      cursor: 'pointer'\n                    }}\n                  >\n                    Remove\n                  </button>\n                )}\n              </div>\n            ))}\n            <button\n              type=\"button\"\n              onClick={handleAddOption}\n              style={{\n                padding: '8px 16px',\n                backgroundColor: '#6c757d',\n                color: 'white',\n                border: 'none',\n                borderRadius: '5px',\n                cursor: 'pointer'\n              }}\n            >\n              Add Option\n            </button>\n          </div>\n        )}\n        \n        <div style={{ marginBottom: '20px' }}>\n          <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n            <input\n              type=\"checkbox\"\n              checked={newQuestion.required}\n              onChange={(e) => setNewQuestion(prev => ({ ...prev, required: e.target.checked }))}\n              style={{ marginRight: '10px', width: '18px', height: '18px' }}\n            />\n            <span>Required question</span>\n          </label>\n        </div>\n        \n        <button\n          onClick={handleAddQuestion}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            fontSize: '16px',\n            cursor: 'pointer',\n            width: '100%'\n          }}\n        >\n          Add Question\n        </button>\n      </div>\n      \n      {/* Existing Questions List */}\n      <h3>Current Questions ({questions.length})</h3>\n      {questions.length === 0 ? (\n        <p style={{ textAlign: 'center', color: '#666', padding: '20px' }}>\n          No questions yet. Add some questions above.\n        </p>\n      ) : (\n        <div>\n          {questions.map((question, index) => (\n            <div \n              key={question.id}\n              style={{\n                padding: '15px',\n                marginBottom: '15px',\n                border: '1px solid #ddd',\n                borderRadius: '8px',\n                backgroundColor: '#fff'\n              }}\n            >\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                <div style={{ flex: 1 }}>\n                  <div style={{ display: 'flex', alignItems: 'center', marginBottom: '8px' }}>\n                    <span style={{\n                      display: 'inline-block',\n                      width: '24px',\n                      height: '24px',\n                      backgroundColor: '#007bff',\n                      color: 'white',\n                      borderRadius: '50%',\n                      textAlign: 'center',\n                      lineHeight: '24px',\n                      marginRight: '10px',\n                      fontSize: '14px'\n                    }}>\n                      {index + 1}\n                    </span>\n                    <h4 style={{ margin: 0 }}>\n                      {question.text}\n                      {question.required && (\n                        <span style={{ color: 'red', marginLeft: '5px' }}>*</span>\n                      )}\n                    </h4>\n                  </div>\n                  \n                  <div style={{ marginLeft: '34px' }}>\n                    <span style={{\n                      display: 'inline-block',\n                      padding: '3px 8px',\n                      backgroundColor: '#e9ecef',\n                      borderRadius: '4px',\n                      fontSize: '12px',\n                      color: '#495057',\n                      marginRight: '8px'\n                    }}>\n                      {question.type}\n                    </span>\n                    \n                    {question.type === 'multiple-choice' && (\n                      <div style={{ marginTop: '8px' }}>\n                        <span style={{ fontSize: '14px', color: '#666' }}>Options:</span>\n                        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px', marginTop: '5px' }}>\n                          {question.options.map((option, optIndex) => (\n                            <span \n                              key={optIndex}\n                              style={{\n                                padding: '3px 8px',\n                                backgroundColor: '#f8f9fa',\n                                border: '1px solid #dee2e6',\n                                borderRadius: '4px',\n                                fontSize: '12px'\n                              }}\n                            >\n                              {option}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                <button\n                  onClick={() => handleRemoveQuestion(question.id)}\n                  style={{\n                    padding: '6px 12px',\n                    backgroundColor: '#dc3545',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '14px'\n                  }}\n                >\n                  Remove\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n      \n      {/* Builder Actions */}\n      <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n        <button\n          onClick={() => setQuestions([])}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          }}\n        >\n          Clear All Questions\n        </button>\n        \n        <button\n          onClick={() => setMode('survey')}\n          disabled={questions.length === 0}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: questions.length > 0 ? '#007bff' : '#ccc',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: questions.length > 0 ? 'pointer' : 'not-allowed'\n          }}\n        >\n          Start Survey ({questions.length} questions)\n        </button>\n      </div>\n    </div>\n  );\n  \n  // Render Survey Mode\n  const renderSurvey = () => (\n    <div>\n      <h2>Survey</h2>\n      \n      {/* Progress Bar */}\n      <div style={{ marginBottom: '30px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n          <span>Completion: {completionPercentage}%</span>\n          <span>{questions.filter(q => q.required).length} required questions</span>\n        </div>\n        <div style={{\n          width: '100%',\n          height: '10px',\n          backgroundColor: '#e9ecef',\n          borderRadius: '5px',\n          overflow: 'hidden'\n        }}>\n          <div \n            style={{\n              width: `${completionPercentage}%`,\n              height: '100%',\n              backgroundColor: completionPercentage === 100 ? '#28a745' : '#007bff',\n              transition: 'width 0.3s ease'\n            }}\n          />\n        </div>\n      </div>\n      \n      {/* Survey Questions */}\n      <form onSubmit={(e) => { e.preventDefault(); handleSubmitSurvey(); }}>\n        {questions.map((question, index) => (\n          <div \n            key={question.id}\n            style={{\n              marginBottom: '25px',\n              padding: '20px',\n              border: `1px solid ${errors[question.id] ? '#dc3545' : '#ddd'}`,\n              borderRadius: '8px',\n              backgroundColor: '#fff'\n            }}\n          >\n            <div style={{ marginBottom: '15px' }}>\n              <h3 style={{ margin: '0 0 5px 0' }}>\n                {index + 1}. {question.text}\n                {question.required && (\n                  <span style={{ color: 'red', marginLeft: '5px' }}>*</span>\n                )}\n              </h3>\n              {question.type === 'multiple-choice' && (\n                <div style={{ fontSize: '14px', color: '#666', marginTop: '5px' }}>\n                  Select one option\n                </div>\n              )}\n            </div>\n            \n            {/* Render appropriate input based on type */}\n            <div>\n              {question.type === 'text' && (\n                <input\n                  type=\"text\"\n                  value={responses[question.id] || ''}\n                  onChange={(e) => handleResponseChange(question.id, e.target.value)}\n                  placeholder=\"Your answer\"\n                  style={{\n                    width: '100%',\n                    padding: '10px',\n                    border: '1px solid #ddd',\n                    borderRadius: '5px',\n                    fontSize: '16px'\n                  }}\n                />\n              )}\n              \n              {question.type === 'textarea' && (\n                <textarea\n                  value={responses[question.id] || ''}\n                  onChange={(e) => handleResponseChange(question.id, e.target.value)}\n                  placeholder=\"Your answer\"\n                  rows={4}\n                  style={{\n                    width: '100%',\n                    padding: '10px',\n                    border: '1px solid #ddd',\n                    borderRadius: '5px',\n                    fontSize: '16px',\n                    resize: 'vertical'\n                  }}\n                />\n              )}\n              \n              {question.type === 'multiple-choice' && (\n                <div>\n                  {question.options.map((option, optIndex) => (\n                    <label \n                      key={optIndex}\n                      style={{\n                        display: 'block',\n                        marginBottom: '10px',\n                        padding: '10px',\n                        border: '1px solid #ddd',\n                        borderRadius: '5px',\n                        cursor: 'pointer',\n                        backgroundColor: responses[question.id] === option ? '#e7f3ff' : '#fff',\n                        transition: 'background-color 0.2s ease'\n                      }}\n                    >\n                      <input\n                        type=\"radio\"\n                        name={`question-${question.id}`}\n                        value={option}\n                        checked={responses[question.id] === option}\n                        onChange={(e) => handleResponseChange(question.id, e.target.value)}\n                        style={{ marginRight: '10px' }}\n                      />\n                      {option}\n                    </label>\n                  ))}\n                </div>\n              )}\n            </div>\n            \n            {/* Error message */}\n            {errors[question.id] && (\n              <div style={{ color: '#dc3545', fontSize: '14px', marginTop: '10px' }}>\n                {errors[question.id]}\n              </div>\n            )}\n          </div>\n        ))}\n        \n        {/* Survey Actions */}\n        <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n          <button\n            type=\"button\"\n            onClick={() => setMode('builder')}\n            style={{\n              padding: '12px 24px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Builder\n          </button>\n          \n          <button\n            type=\"submit\"\n            disabled={completionPercentage < 100}\n            style={{\n              padding: '12px 24px',\n              backgroundColor: completionPercentage === 100 ? '#28a745' : '#ccc',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: completionPercentage === 100 ? 'pointer' : 'not-allowed'\n            }}\n          >\n            Submit Survey\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n  \n  // Render Results Mode\n  const renderResults = () => (\n    <div>\n      <h2>Survey Results</h2>\n      <p>Thank you for completing the survey!</p>\n      \n      <div style={{\n        padding: '20px',\n        backgroundColor: '#d4edda',\n        color: '#155724',\n        border: '1px solid #c3e6cb',\n        borderRadius: '8px',\n        marginBottom: '30px'\n      }}>\n        <h3 style={{ margin: '0 0 10px 0' }}>Submission Successful</h3>\n        <p style={{ margin: 0 }}>Your responses have been recorded.</p>\n      </div>\n      \n      <h3>Your Responses</h3>\n      <div>\n        {questions.map((question, index) => (\n          <div \n            key={question.id}\n            style={{\n              padding: '15px',\n              marginBottom: '15px',\n              border: '1px solid #ddd',\n              borderRadius: '8px',\n              backgroundColor: '#fff'\n            }}\n          >\n            <h4 style={{ margin: '0 0 10px 0' }}>\n              {index + 1}. {question.text}\n            </h4>\n            <div style={{\n              padding: '10px',\n              backgroundColor: '#f8f9fa',\n              borderRadius: '5px',\n              fontStyle: responses[question.id] ? 'normal' : 'italic'\n            }}>\n              {responses[question.id] || 'No response provided'}\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '30px' }}>\n        <button\n          onClick={() => {\n            setMode('survey');\n            setErrors({});\n          }}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: '#6c757d',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          }}\n        >\n          Retake Survey\n        </button>\n        \n        <button\n          onClick={() => setMode('builder')}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          }}\n        >\n          Create New Survey\n        </button>\n      </div>\n    </div>\n  );\n  \n  return (\n    <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n      <h1>Survey Builder</h1>\n      \n      {/* Mode Tabs */}\n      <div style={{\n        display: 'flex',\n        borderBottom: '2px solid #ddd',\n        marginBottom: '30px'\n      }}>\n        <button\n          onClick={() => setMode('builder')}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: 'transparent',\n            border: 'none',\n            borderBottom: mode === 'builder' ? '2px solid #007bff' : 'none',\n            color: mode === 'builder' ? '#007bff' : '#666',\n            fontWeight: mode === 'builder' ? '600' : '400',\n            cursor: 'pointer',\n            fontSize: '16px'\n          }}\n        >\n          Builder\n        </button>\n        <button\n          onClick={() => setMode('survey')}\n          disabled={questions.length === 0}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: 'transparent',\n            border: 'none',\n            borderBottom: mode === 'survey' ? '2px solid #007bff' : 'none',\n            color: questions.length > 0 && mode === 'survey' ? '#007bff' : '#ccc',\n            fontWeight: mode === 'survey' ? '600' : '400',\n            cursor: questions.length > 0 ? 'pointer' : 'not-allowed',\n            fontSize: '16px'\n          }}\n        >\n          Survey\n        </button>\n        <button\n          onClick={() => setMode('results')}\n          disabled={!Object.keys(responses).length || mode === 'builder'}\n          style={{\n            padding: '12px 24px',\n            backgroundColor: 'transparent',\n            border: 'none',\n            borderBottom: mode === 'results' ? '2px solid #007bff' : 'none',\n            color: Object.keys(responses).length && mode === 'results' ? '#007bff' : '#ccc',\n            fontWeight: mode === 'results' ? '600' : '400',\n            cursor: Object.keys(responses).length ? 'pointer' : 'not-allowed',\n            fontSize: '16px'\n          }}\n        >\n          Results\n        </button>\n      </div>\n      \n      {/* Mode Content */}\n      {mode === 'builder' && renderBuilder()}\n      {mode === 'survey' && renderSurvey()}\n      {mode === 'results' && renderResults()}\n      \n      <div style={{\n        marginTop: '40px',\n        padding: '20px',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        fontSize: '14px',\n        color: '#666'\n      }}>\n        <p style={{ margin: '0 0 10px 0' }}>\n          <strong>Instructions:</strong>\n        </p>\n        <ul style={{ margin: 0, paddingLeft: '20px' }}>\n          <li>Use Builder mode to create and manage survey questions</li>\n          <li>Switch to Survey mode to fill out the survey</li>\n          <li>Check Results mode to see your responses</li>\n          <li>Required questions are marked with *</li>\n        </ul>\n      </div>\n    </div>\n  );\n}",
      "required_imports": ["react", "react.useState"],
      "required_structure": {
        "functions": [{
          "name": "SurveyBuilder",
          "type": "functional_component",
          "has_export": true
        }]
      },
      "forbidden_patterns": ["external form libraries", "context for state", "router for modes"],
      "is_primary": true,
      "confidence_threshold": 85.00
    }
  ]
}